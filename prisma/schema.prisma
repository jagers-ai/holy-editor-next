generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model ingredients {
  id                 String               @id
  name               String
  unit               String
  pricePerUnit       Decimal              @db.Decimal(10, 2)
  createdAt          DateTime             @default(now())
  updatedAt          DateTime
  brand              String?
  category           String?
  quantity           Decimal?             @db.Decimal(10, 2)
  subcategory        String?
  recipe_ingredients recipe_ingredients[]
}

model recipe_ingredients {
  id           String      @id
  recipeId     String
  ingredientId String
  quantity     Decimal     @db.Decimal(10, 2)
  sectionName  String?
  ingredients  ingredients @relation(fields: [ingredientId], references: [id])
  recipes      recipes     @relation(fields: [recipeId], references: [id], onDelete: Cascade)
}

model recipes {
  id                 String               @id
  name               String
  yieldCount         Int                  @default(1)
  createdAt          DateTime             @default(now())
  updatedAt          DateTime
  baker              String?
  fermentationInfo   String?
  moldSize           String?
  ovenTemp           Int?
  ovenTime           Int?
  sellingPrice       Decimal?             @db.Decimal(10, 2)
  memo               String?
  recipe_ingredients recipe_ingredients[]
}
